var mod_pagespeed_78CGB7fIiF = "(function(e){if(e.BX.dataBase)return;var t=e.BX;t.dataBase=function(t){this.tableList=[];if(typeof e.openDatabase!=\"undefined\")this.dbObject=e.openDatabase(t.name,t.version,t.displayName,t.capacity)};t.dataBase.create=function(a){return typeof e.openDatabase!=\"undefined\"?new t.dataBase(a):null};t.dataBase.prototype.isTableExists=function(e,t){var a=this;var r=function(){var r=a.tableList.length;for(var s=0;s<r;s++){if(a.tableList[s].toUpperCase()==e.toUpperCase()){t(true);return}}t(false)};if(this.tableList.length<=0)this.getTableList(r);else r()};t.dataBase.prototype.getTableList=function(e){var t=this;var a=e;this.query({query:\"SELECT tbl_name from sqlite_master WHERE type = 'table'\",values:[]},function(e){if(e.count>0){for(var r=0;r<e.items.length;r++)t.tableList[t.tableList.length]=e.items[r].tbl_name}if(a!=null&&typeof a==\"function\")a(t.tableList)})};t.dataBase.prototype.createTable=function(e){e.action=\"create\";if(e.success){var a=e.success;e.success=t.proxy(function(e){a(e);this.getTableList()},this)}var r=this.getQuery(e);this.query(r,e.success,e.fail)};t.dataBase.prototype.dropTable=function(e){e.action=\"drop\";if(e.success){var a=e.success;e.success=t.proxy(function(e){a(e);this.getTableList()},this)}var r=this.getQuery(e);this.query(r,e.success,e.fail)};t.dataBase.prototype.addRow=function(e){e.action=\"insert\";this.query(this.getQuery(e),e.success,e.fail)};t.dataBase.prototype.getRows=function(e){e.action=\"select\";this.query(this.getQuery(e),e.success,e.fail)};t.dataBase.prototype.updateRows=function(e){e.action=\"update\";var t=this.getQuery(e);this.query(t,e.success,e.fail)};t.dataBase.prototype.deleteRows=function(e){e.action=\"delete\";var t=this.getQuery(e);this.query(t,e.success,e.fail)};t.dataBase.prototype.getQuery=function(e){var t=[];var a=e.filter;var r=e.fields;var s=e.insertFields;var i=e.updateFields;var o=e.tableName;var n=\"\";switch(e.action){case\"delete\":{n=\"DELETE FROM \"+o.toUpperCase()+\" \"+this.getFilter(a);t=this.getValues([a]);break}case\"update\":{n=\"UPDATE \"+o.toUpperCase()+\" \"+this.getFieldPair(i,\"SET \")+\" \"+this.getFilter(a);t=this.getValues([i,a]);break}case\"create\":{var f=\"\";if(typeof r==\"object\"){var u=\"\";for(var l=0;l<r.length;l++){u=\"\";if(typeof r[l]==\"object\"){if(r[l].name){u=r[l].name;if(r[l].unique&&r[l].unique==true)u+=\" unique\"}}else if(typeof r[l]==\"string\"&&r[l].length>0)u=r[l];if(u.length>0){if(f.length>0)f+=\",\"+u.toUpperCase();else f=u.toUpperCase()}}}n=\"CREATE TABLE IF NOT EXISTS \"+o.toUpperCase()+\" (\"+f+\") \";break}case\"drop\":{n=\"DROP TABLE IF EXISTS \"+o.toUpperCase();break}case\"select\":{n=\"SELECT \"+this.getValueArrayString(r,\"*\")+\" FROM \"+o.toUpperCase()+\" \"+this.getFilter(a);t=this.getValues([a]);break}case\"insert\":{t=this.getValues([s]);n=\"INSERT INTO \"+o.toUpperCase()+\" (\"+this.getKeyString(s)+\") VALUES(%values%)\";var p=\"\";for(var c=0;c<t.length;c++){if(p.length>0)p+=\",?\";else p=\"?\"}n=n.replace(\"%values%\",p);break}}return{query:n,values:t}};t.dataBase.prototype.getFieldPair=function(e,t){var a=\"\";var r=t||\"\";if(typeof e==\"object\"){var s=0;for(var i in e){var o=(s>0?\", \":\"\")+(i.toUpperCase()+\"=\"+\"?\");if(a.length==0&&r.length>0)a=r;a+=o;s++}}return a};t.dataBase.prototype.getFilter=function(e){var t=\"\";var a=\"WHERE \";if(typeof e==\"object\"){var r=0;for(var s in e){var i=\"\";var o=1;if(typeof e[s]==\"object\")o=e[s].length;for(var n=0;n<o;n++){i=(n>0?i+\" OR \":\"(\")+(s.toUpperCase()+\"=\"+\"?\");if(n+1==o)i+=\")\"}t+=i;r++}}return t==\"\"?\"\":\"WHERE \"+t};t.dataBase.prototype.getKeyString=function(e,t){var a=\"\";if(!t)t=\"\";if(typeof e==\"array\"){for(var r=0;r<valuesItem.length;r++){if(a.length>0)a+=\",\"+valuesItem[r].toUpperCase();else a=valuesItem[r].toUpperCase()}}else if(typeof e==\"object\"){for(var s in e){if(a.length>0)a+=\",\"+s.toUpperCase();else a=s.toUpperCase()}}if(a.length==0)a=t;return a};t.dataBase.prototype.getValueArrayString=function(e,t){var a=\"\";if(!t)t=\"\";if(typeof e==\"object\"){for(var r=0;r<e.length;r++){if(a.length>0)a+=\",\"+e[r].toUpperCase();else a=e[r].toUpperCase()}}if(a.length==0)a=t;return a};t.dataBase.prototype.getValues=function(e){var t=[];for(var a=0;a<e.length;a++){var r=e[a];if(typeof r==\"object\"){for(var s in r){if(typeof r[s]!=\"object\")t[t.length]=r[s];else for(var i=0;i<r[s].length;i++){t[t.length]=r[s][i]}}}else if(typeof r==\"array\"){for(var i=0;i<r.length;i++){if(typeof r[i]!=\"object\")t[t.length]=r[i]}}}return t};t.dataBase.prototype.query=function(e,t,a){if(!this.dbObject){return}if(typeof t==\"undefined\"||typeof t!=\"function\")t=function(){};if(typeof a==\"undefined\"||typeof a!=\"function\")a=function(){};this.dbObject.transaction(function(r){r.executeSql(e.query,e.values,function(e,a){var r={originalResult:a};var s=a.rows.length;if(s>=0){r.count=s;r.items=[];for(var i=0;i<s;i++){var o={};var n=a.rows.item(i);for(var f in n){if(n.hasOwnProperty(f)){o[f]=n[f]}}r.items.push(o)}}if(t!=null)t(r,e)},function(e,t){if(a!=null)a(t,e)})})};t.dataBase.prototype.getResponseObject=function(e){var t=e.rows.length;var a=[];for(var r=0;r<t;r++){a[a.length]=e.rows.item(r)}return a}})(window);";
var mod_pagespeed_ugyDLO2_nk = "(function(window){if(window.BX.frameCache)return;var BX=window.BX;var localStorageKey=\"compositeCache\";var localStorageKeyPullConfig=\"pullConfigCache\";var lolalStorageTTL=1440;var compositeMessageIds=[\"bitrix_sessid\",\"USER_ID\",\"SERVER_TIME\",\"USER_TZ_OFFSET\",\"USER_TZ_AUTO\"];var compositeDataFile=\"/bitrix/tools/composite_data.php\";var sessidWasUpdated=false;BX.frameCache=function(){};if(BX.browser.IsIE8()){BX.frameCache.localStorage=new BX.localStorageIE8}else if(typeof localStorage!==\"undefined\"){BX.frameCache.localStorage=new BX.localStorage}else{BX.frameCache.localStorage={set:BX.DoNothing,get:function(){return null},remove:BX.DoNothing}}BX.frameCache.localStorage.prefix=function(){return\"bx-\"};BX.frameCache.init=function(){this.cacheDataBase=null;this.tableParams={tableName:\"composite\",fields:[{name:\"id\",unique:true},\"content\",\"hash\",\"props\"]};this.frameData=null;if(BX.type.isString(window.frameDataString)&&window.frameDataString.length>0){BX.frameCache.onFrameDataReceived(window.frameDataString)}this.vars=window.frameCacheVars?window.frameCacheVars:{page_url:\"\",params:{},storageBlocks:[]};this.lastReplacedBlocks=false;var e=BX.frameCache.localStorage.get(localStorageKey)||{};for(var a=0;a<compositeMessageIds.length;a++){var t=compositeMessageIds[a];if(typeof BX.message[t]!=\"undefined\"){e[t]=BX.message[t]}}BX.frameCache.localStorage.set(localStorageKey,e,lolalStorageTTL);BX.addCustomEvent(\"onBXMessageNotFound\",function(e){if(BX.util.in_array(e,compositeMessageIds)){var a=BX.frameCache.localStorage.get(localStorageKey);if(a&&typeof a[e]!=\"undefined\"){BX.message[e]=a[e]}else{BX.frameCache.getCompositeMessages()}}});if(!window.frameUpdateInvoked){this.update(false);window.frameUpdateInvoked=true}if(window.frameRequestStart){BX.ready(function(){BX.onCustomEvent(\"onCacheDataRequestStart\");BX.frameCache.tryUpdateSessid()})}if(window.frameRequestFail){BX.ready(function(){setTimeout(function(){BX.onCustomEvent(\"onFrameDataRequestFail\",[window.frameRequestFail])},0)})}BX.frameCache.insertBanner()};BX.frameCache.getCompositeMessages=function(){try{BX.ajax({method:\"GET\",dataType:\"json\",url:compositeDataFile,async:false,data:\"\",onsuccess:function(e){BX.frameCache.setCompositeVars(e)}})}catch(e){BX.debug(\"Composite sync request failed.\")}};BX.frameCache.setCompositeVars=function(e){if(!e){return}else if(e.lang){e=e.lang}var a=BX.frameCache.localStorage.get(localStorageKey)||{};for(var t in e){if(e.hasOwnProperty(t)){BX.message[t]=e[t];if(BX.util.in_array(t,compositeMessageIds)){a[t]=e[t]}}}BX.frameCache.localStorage.set(localStorageKey,a,lolalStorageTTL)};BX.frameCache.setPullConfigVars=function(e){if(!e||!e.pull){return}var a=BX.frameCache.localStorage.get(localStorageKeyPullConfig);var t=false;if(a!=null){var r=e.pull.CHANNEL_ID.split(\"/\");var s=a.CHANNEL_ID.split(\"/\");t=r[0]!=s[0]||r[1]!=s[1]}else{t=true}var i=e.pull.CHANNEL_DT.split(\"/\");var n=Math.min(parseInt(i[0]),parseInt(i[1]))+43200;var o=Math.round((new Date).getTime()/1e3);var l=n-o;BX.frameCache.localStorage.set(localStorageKeyPullConfig,e.pull,l);if(t){BX.onCustomEvent(\"pullConfigHasBeenChanged\",[e.pull])}};BX.frameCache.getPullConfig=function(){if(this.frameData&&this.frameData.pull)return this.frameData.pull;else{return BX.frameCache.localStorage.get(localStorageKeyPullConfig)}};BX.frameCache.processData=function(e){if(!e){return}var a=null;var t=null;var r=null;var s=\"bxdynamic_\";if(e.ID.substr(0,s.length)===s){t=BX(e.ID+\"_start\");r=BX(e.ID+\"_end\");if(!t||!r){BX.debug(\"Dynamic area \"+e.ID+\" was not found\");return}}else{a=BX(e.ID);if(!a){BX.debug(\"Container \"+e.ID+\" was not found\");return}}var i=false;var n=false;var o=h();l(c);f();u(m);function l(a){var t=o.styles;if(BX.type.isArray(e.PROPS.CSS)&&e.PROPS.CSS.length>0){t=BX.util.array_merge(e.PROPS.CSS,t)}t.length>0?BX.load(t,a):a()}function c(){if(a){if(e.PROPS.USE_ANIMATION){a.style.opacity=0;a.innerHTML=e.CONTENT;new BX.easing({duration:1500,start:{opacity:0},finish:{opacity:100},transition:BX.easing.makeEaseOut(BX.easing.transitions.quart),step:function(e){a.style.opacity=e.opacity/100},complete:function(){a.style.cssText=\"\"}}).animate()}else{a.innerHTML=e.CONTENT}}else{BX.frameCache.removeNodes(t,r);t.insertAdjacentHTML(\"afterEnd\",e.CONTENT)}i=true;if(n){m()}}function f(){BX.evalGlobal(o.inlineJS.join(\";\"))}function h(){var a={styles:[],inlineJS:[],externalJS:[]};if(!BX.type.isArray(e.PROPS.STRINGS)||e.PROPS.STRINGS.length<1){return a}var t=BX.processHTML(e.PROPS.STRINGS.join(\"\"),false);for(var r=0,s=t.SCRIPT.length;r<s;r++){var i=t.SCRIPT[r];if(i.isInternal){a.inlineJS.push(i.JS)}else{a.externalJS.push(i.JS)}}a.styles=t.STYLE;return a}function u(a){var t=o.externalJS;if(BX.type.isArray(e.PROPS.JS)&&e.PROPS.JS.length>0){t=BX.util.array_merge(t,e.PROPS.JS)}t.length>0?BX.load(t,a):a()}function m(){n=true;if(i){BX.ajax.processRequestData(e.CONTENT,{scriptsRunFirst:false,dataType:\"HTML\"})}}};BX.frameCache.removeNodes=function(e,a){var t=false;var r=e.parentNode;var s=Array.prototype.slice.call(r.childNodes);for(var i=0,n=s.length;i<n;i++){if(t){if(s[i]===a){break}else{r.removeChild(s[i])}}else if(s[i]===e){t=true}}};BX.frameCache.update=function(e,a){a=!!a;e=typeof e==\"undefined\"?true:e;if(e){this.requestData()}if(!a){BX.ready(BX.proxy(function(){if(!this.frameData){this.invokeCache()}},this))}};BX.frameCache.invokeCache=function(){if(this.vars.storageBlocks&&this.vars.storageBlocks.length>0){BX.onCustomEvent(this,\"onCacheInvokeBefore\",[this.vars.storageBlocks]);this.readCacheWithID(this.vars.storageBlocks,BX.proxy(this.insertFromCache,this))}};BX.frameCache.handleResponse=function(e){if(e==null)return;BX.onCustomEvent(\"onFrameDataReceivedBefore\",[e]);if(e.dynamicBlocks&&e.dynamicBlocks.length>0){this.insertBlocks(e.dynamicBlocks,false);this.writeCache(e.dynamicBlocks)}BX.onCustomEvent(\"onFrameDataReceived\",[e]);if(e.isManifestUpdated==\"1\"&&this.vars.CACHE_MODE===\"APPCACHE\"){window.applicationCache.update()}if(e.htmlCacheChanged===true&&this.vars.CACHE_MODE===\"HTMLCACHE\"){BX.onCustomEvent(\"onHtmlCacheChanged\",[e])}if(BX.type.isArray(e.spread)){for(var a=0;a<e.spread.length;a++){(new Image).src=e.spread[a]}}};BX.frameCache.requestData=function(){var e=[{name:\"BX-ACTION-TYPE\",value:\"get_dynamic\"},{name:\"BX-REF\",value:document.referrer},{name:\"BX-CACHE-MODE\",value:this.vars.CACHE_MODE}];if(this.vars.CACHE_MODE===\"APPCACHE\"){e.push({name:\"BX-APPCACHE-PARAMS\",value:JSON.stringify(this.vars.PARAMS)});e.push({name:\"BX-APPCACHE-URL\",value:this.vars.PAGE_URL?this.vars.PAGE_URL:\"\"})}BX.onCustomEvent(\"onCacheDataRequestStart\");var a=window.location.href;var t=a.indexOf(\"#\");if(t>0){a=a.substring(0,t)}a+=(a.indexOf(\"?\")>=0?\"&\":\"?\")+\"bxrand=\"+(new Date).getTime();BX.ajax({timeout:60,method:\"GET\",url:a,data:{},headers:e,skipBxHeader:true,processData:false,onsuccess:BX.proxy(BX.frameCache.onFrameDataReceived,this),onfailure:function(){var e={error:true,reason:\"bad_response\",url:a,xhr:this.xhr,status:this.xhr?this.xhr.status:0};BX.onCustomEvent(\"onFrameDataRequestFail\",[e])}})};BX.frameCache.onFrameDataReceived=function(response){var result=null;try{eval(\"result = \"+response);this.frameData=result}catch(e){BX.ready(function(){setTimeout(function(){BX.onCustomEvent(\"onFrameDataRequestFail\",[{error:true,reason:\"bad_eval\",response:response}])},0)});return}if(this.frameData&&BX.type.isNotEmptyString(this.frameData.redirect_url)){window.location=this.frameData.redirect_url;return}if(this.frameData&&this.frameData.error===true){BX.ready(BX.proxy(function(){setTimeout(BX.proxy(function(){BX.onCustomEvent(\"onFrameDataRequestFail\",[this.frameData])},this),0)},this));return}BX.frameCache.setCompositeVars(this.frameData);BX.frameCache.setPullConfigVars(this.frameData);BX.ready(BX.proxy(function(){this.handleResponse(this.frameData);this.tryUpdateSessid()},this))};BX.frameCache.insertFromCache=function(e,a){if(!this.frameData){var t=e.items;if(t.length>0){for(var r=0;r<t.length;r++){t[r].PROPS=JSON.parse(t[r].PROPS)}this.insertBlocks(t,true)}else{this.update(true,true)}}};BX.frameCache.insertBlocks=function(e,a){var t=this.lastReplacedBlocks.length!=0;for(var r=0;r<e.length;r++){var s=e[r];BX.onCustomEvent(\"onBeforeDynamicBlockUpdate\",[s,a]);if(s.PROPS.AUTO_UPDATE===false){continue}var i=false;if(t){for(var n=0;n<this.lastReplacedBlocks.length;n++){if(this.lastReplacedBlocks[n].ID==s.ID&&this.lastReplacedBlocks[n].HASH==s.HASH){i=true;break}}}if(!i){this.processData(s)}}BX.onCustomEvent(\"onFrameDataProcessed\",[e,a]);this.lastReplacedBlocks=e};BX.frameCache.writeCache=function(e){for(var a=0;a<e.length;a++){if(e[a].PROPS.USE_BROWSER_STORAGE===true){this.writeCacheWithID(e[a].ID,e[a].CONTENT,e[a].HASH,JSON.stringify(e[a].PROPS))}}};BX.frameCache.openDatabase=function(){var e=this.cacheDataBase!=null;if(!e){this.cacheDataBase=BX.dataBase.create({name:\"Database\",displayName:\"BXCacheBase\",capacity:1024*1024*4,version:\"1.0\"});if(this.cacheDataBase!=null){this.cacheDataBase.createTable(this.tableParams);e=true}}return e};BX.frameCache.writeCacheWithID=function(e,a,t,r){if(BX.frameCache.openDatabase()){if(typeof r==\"object\"){r=JSON.stringify(r)}this.cacheDataBase.getRows({tableName:this.tableParams.tableName,filter:{id:e},success:BX.proxy(function(s){if(s.items.length>0){this.cacheDataBase.updateRows({tableName:this.tableParams.tableName,updateFields:{content:a,hash:t,props:r},filter:{id:e},fail:function(e){}})}else{this.cacheDataBase.addRow({tableName:this.tableParams.tableName,insertFields:{id:e,content:a,hash:t,props:r}})}},this),fail:BX.proxy(function(s){this.cacheDataBase.addRow({tableName:this.tableParams.tableName,insertFields:{id:e,content:a,hash:t,props:r},fail:function(e){}})},this)})}};BX.frameCache.readCacheWithID=function(e,a){if(BX.frameCache.openDatabase()){this.cacheDataBase.getRows({tableName:this.tableParams.tableName,filter:{id:e},success:BX.proxy(a,this)})}else if(typeof a!=\"undefined\"){a({items:[]})}};BX.frameCache.insertBanner=function(){if(!this.vars.banner||!BX.type.isNotEmptyString(this.vars.banner.text)){return}BX.ready(BX.proxy(function(){var e=BX.create(\"a\",{props:{className:\"bx-composite-btn\"+(BX.type.isNotEmptyString(this.vars.banner.style)?\" bx-btn-\"+this.vars.banner.style:\"\"),href:this.vars.banner.url},attrs:{target:\"_blank\"},text:this.vars.banner.text});if(BX.type.isNotEmptyString(this.vars.banner.bgcolor)){e.style.backgroundColor=this.vars.banner.bgcolor;if(BX.util.in_array(this.vars.banner.bgcolor.toUpperCase(),[\"#FFF\",\"#FFFFFF\",\"WHITE\"])){BX.addClass(e,\"bx-btn-border\")}}var a=BX(\"bx-composite-banner\");if(a){a.appendChild(e)}else{BX.addClass(e,\"bx-composite-btn-fixed\");document.body.appendChild(BX.create(\"div\",{style:{position:\"relative\"},children:[e]}))}},this))};BX.frameCache.tryUpdateSessid=function(){if(sessidWasUpdated){return}var e=\"bitrix_sessid\";var a=false;if(typeof BX.message[e]!=\"undefined\"){a=BX.message[e]}else{var t=BX.frameCache.localStorage.get(localStorageKey)||{};if(typeof t[e]!=\"undefined\"){a=t[e]}}if(a!==false){sessidWasUpdated=true;this.updateSessid(a)}};BX.frameCache.updateSessid=function(e){var a=document.getElementsByName(\"sessid\");for(var t=0;t<a.length;t++){a[t].value=e}};BX.frameCache.init()})(window);";
